<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Room - Lord Of Heroes</title>
    <link rel="icon" href="fabicon.png" type="image/png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="stars"></div>
    <div id="introOverlay" class="intro-overlay">
        <div class="intro-container">
            <img class="intro-logo" src="lord%20of%20heros.png" alt="Lord of Heroes">
            <div class="intro-text">ë‚´ê°€ ì›í•˜ëŠ” ê²ƒì€ ê·¸ëŒ€ë‹¤</div>
            <div class="intro-text">touch for your memories</div>
        </div>
    </div>
    <div class="music-bar">
        <div class="left-group">
            <div class="a11y-info-wrapper">
                <button class="mb-btn" id="mbA11yMusic" aria-label="ë°°ê²½ìŒì•…ê³¼ ìŒì„± ì»¨í…ì¸  ì•ˆë‚´" aria-describedby="a11yTipMusic">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M10 4v9.1A3.9 3.9 0 0 0 8 13c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V8h6V4h-7z"></path>
                    </svg>
                </button>
                <div class="a11y-info-tooltip" id="a11yTipMusic" role="tooltip">
                    <p>ë°°ê²½ìŒì•…ê³¼ ìŒì„± ì»¨í…ì¸ ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
            <div class="a11y-info-wrapper">
                <button class="mb-btn" id="mbA11yAlt" aria-label="ALT ëŒ€ì²´ í…ìŠ¤íŠ¸ ì•ˆë‚´" aria-describedby="a11yTipAlt">
                    <span class="icon-a11y" aria-hidden="true"></span>
                </button>
                <div class="a11y-info-tooltip" id="a11yTipAlt" role="tooltip">
                    <p>ALT ëŒ€ì²´ í…ìŠ¤íŠ¸ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
            <div class="a11y-info-wrapper">
                <button class="mb-btn" id="mbA11yContext" aria-label="ë§ˆìš°ìŠ¤ ìš°í´ë¦­ ì œí•œ ì•ˆë‚´" aria-describedby="a11yTipContext">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                        <circle cx="12" cy="12" r="8" fill="none" stroke="#cfe6f9" stroke-width="1.8"></circle>
                        <line x1="8" y1="8" x2="16" y2="16" stroke="#cfe6f9" stroke-width="1.8" stroke-linecap="round"></line>
                    </svg>
                </button>
                <div class="a11y-info-tooltip" id="a11yTipContext" role="tooltip">
                    <p>ë§ˆìš°ìŠ¤ ìš°í´ë¦­ì´ ê¸ˆì§€ë©ë‹ˆë‹¤. ë“œë˜ê·¸, ë³µì‚¬ëŠ” ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
        <div class="center-group">
            <button class="mb-btn" id="mbPlay" aria-label="Play/Pause">
                <svg class="icon icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                <svg class="icon icon-pause" viewBox="0 0 24 24"><path d="M6 5h4v14H6zm8 0h4v14h-4z"/></svg>
            </button>
            <button class="mb-btn" id="mbShuffle" aria-label="Shuffle">
                <svg class="icon" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.6 9.6 0 0 0 7.556 8a9.6 9.6 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.6 10.6 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.6 9.6 0 0 0 6.444 8a9.6 9.6 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5"/>
                    <path d="M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192m0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192"/>
                </svg>
            </button>
            <div class="mb-title" id="mbTitle">ì¬ìƒí•  ê³¡ì„ ì„ íƒí•˜ì„¸ìš”</div>
            <div class="mb-time" id="mbTime">00:00 / 00:00</div>
            <div class="mb-progress-wrap" id="mbProgressWrap">
                <div class="mb-progress" id="mbProgress"></div>
            </div>
        </div>
        <div class="right-group">
            <button class="mb-btn" id="mbPatch" aria-label="Patch Notes">
                <svg class="icon" viewBox="0 0 24 24">
                    <rect x="4" y="6" width="16" height="2" rx="1"></rect>
                    <rect x="4" y="11" width="16" height="2" rx="1"></rect>
                    <rect x="4" y="16" width="16" height="2" rx="1"></rect>
                </svg>
            </button>
            <button class="mb-btn" id="mbList" aria-label="Toggle List">
                <svg class="icon" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"/></svg>
            </button>
        </div>
    </div>
    <button class="mobile-hero-search-btn" id="mbHeroSearch" aria-label="ì˜ì›… ê²€ìƒ‰">
        <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M15.5 14h-.79l-.28-.28A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.22-1.57l.28.28v.79L19 20.5 20.5 19 15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
        </svg>
    </button>
    <div class="mobile-hero-search-bar" id="mbHeroSearchBar">
        <input
            type="text"
            id="heroSearchInputMobile"
            class="hero-search-input"
            placeholder="ì˜ì›… ì´ë¦„ ê²€ìƒ‰"
            autocomplete="off"
        >
    </div>
    <div class="music-accordion" id="mbAccordion">
        <div class="music-list" id="mbListBody"></div>
    </div>

    <div class="app-container">
        <img class="brand-logo" src="lord%20of%20heros.png" alt="Lord of Heroes">
        <div class="a11y-mobile-bar">
            <div class="a11y-info-wrapper">
                <button class="mb-btn" id="mbA11yMusicMobile" aria-label="ë°°ê²½ìŒì•…ê³¼ ìŒì„± ì»¨í…ì¸  ì•ˆë‚´" aria-describedby="a11yTipMusicMobile">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M10 4v9.1A3.9 3.9 0 0 0 8 13c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3V8h6V4h-7z"></path>
                    </svg>
                </button>
                <div class="a11y-info-tooltip" id="a11yTipMusicMobile" role="tooltip">
                    <p>ë°°ê²½ìŒì•…ê³¼ ìŒì„± ì»¨í…ì¸ ë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
            <div class="a11y-info-wrapper">
                <button class="mb-btn" id="mbA11yAltMobile" aria-label="ALT ëŒ€ì²´ í…ìŠ¤íŠ¸ ì•ˆë‚´" aria-describedby="a11yTipAltMobile">
                    <span class="icon-a11y" aria-hidden="true"></span>
                </button>
                <div class="a11y-info-tooltip" id="a11yTipAltMobile" role="tooltip">
                    <p>ALT ëŒ€ì²´ í…ìŠ¤íŠ¸ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
            <div class="a11y-info-wrapper">
                <button class="mb-btn" id="mbA11yContextMobile" aria-label="ë§ˆìš°ìŠ¤ ìš°í´ë¦­ ì œí•œ ì•ˆë‚´" aria-describedby="a11yTipContextMobile">
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                        <circle cx="12" cy="12" r="8" fill="none" stroke="#cfe6f9" stroke-width="1.8"></circle>
                        <line x1="8" y1="8" x2="16" y2="16" stroke="#cfe6f9" stroke-width="1.8" stroke-linecap="round"></line>
                    </svg>
                </button>
                <div class="a11y-info-tooltip" id="a11yTipContextMobile" role="tooltip">
                    <p>ë§ˆìš°ìŠ¤ ìš°í´ë¦­ì´ ê¸ˆì§€ë©ë‹ˆë‹¤. ë“œë˜ê·¸, ë³µì‚¬ëŠ” ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
        </div>
        
        <!-- Left: Hero Selection -->
        <aside class="hero-list">
            <button class="hero-arrow hero-arrow-left" aria-label="ì™¼ìª½ìœ¼ë¡œ ì´ë™">
                <svg viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
            </button>
            <button class="hero-arrow hero-arrow-right" aria-label="ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™">
                <svg viewBox="0 0 24 24"><path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z"/></svg>
            </button>
            <div class="hero-search">
                <div class="hero-search-inner">
                    <svg class="hero-search-icon" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M15.5 14h-.79l-.28-.28A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.22-1.57l.28.28v.79L19 20.5 20.5 19 15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                    </svg>
                    <input
                        type="text"
                        id="heroSearchInput"
                        class="hero-search-input"
                        placeholder="ì˜ì›… ì´ë¦„ ê²€ìƒ‰"
                        autocomplete="off"
                    >
                </div>
            </div>
        </aside>

        <div class="voice-column">
            <!-- Middle: Voice List -->
            <section class="voice-list-section">
                <div class="voice-list-inner">
                     <!-- Dynamic Content will be loaded here via app.js -->
                </div>
            </section>
            <div class="voice-bottom-actions">
                <button class="receipt-toggle-btn" id="receiptToggle" type="button" aria-label="ì˜ì›… ëŒ€ì‚¬ ì˜ìˆ˜ì¦ ì—´ê¸°/ë‹«ê¸°">
                    ğŸ§¾ Entry Permit
                </button>
                <button id="moviesToggleBtn" class="receipt-toggle-btn" aria-label="ì˜ìƒ í˜ì´ì§€ ì—´ê¸°">
                    ğŸ movies
                </button>
            </div>
        </div>

        <div class="v-divider"></div>

        <!-- Right: Transcript -->
        <section class="transcript-section">
             <!-- Dynamic Content will be loaded here via app.js -->
        </section>
        <div class="receipt-shell">
            <div class="receipt-widget hidden" id="receiptWidget" role="group" aria-label="ë¡œë“œì˜¤ë¸Œíˆì–´ë¡œì¦ˆ ì˜ì›… ëŒ€ì‚¬ ì˜ìˆ˜ì¦">
                <div class="receipt-paper">
                    <div class="receipt-title">entry permit</div>
                    <div class="receipt-divider"></div>
                    <div class="receipt-label">The Hero saidâ€¦ :</div>
                    <div class="receipt-quote" id="receiptQuote"></div>
                    <div class="receipt-hero-meta" id="receiptHeroMeta"></div>
                    <div class="receipt-divider"></div>
                    <div class="receipt-section-heading">ingredients</div>
                    <div class="receipt-daily-value">Daily Value âˆ</div>
                    <div class="receipt-ingredients-container" id="receiptIngredients"></div>
                    <div class="receipt-divider"></div>
                    <p class="receipt-barcode" id="receiptBarcode"></p>
                    <div class="receipt-serial" id="receiptSerial"></div>
                    <div class="receipt-footer">"ë¡œë“œ! ë˜ ì™€ ì¤„ ê±°ì§€?"</div>
                </div>
                <button id="receiptDownloadBtn" type="button" style="margin-top: 20px; padding: 8px 16px; border-radius: 4px; border: 1px solid #cbd5f5; background: #0f172a; color: #e2e8f0; font-size: 11px; cursor: pointer;">DOWNLOAD</button>
            </div>
        </div>
        <div class="footer-spacer">
            <div class="bottom-footer">
                <div id="mobileProgress" class="upload-progress">
                    <div class="upload-progress-text"></div>
                    <div class="upload-progress-bar">
                        <div class="upload-progress-bar-fill"></div>
                    </div>
                </div>
                <div class="bottom-twitter">
                    <a href="https://x.com/lohvoice" target="_blank" rel="noopener noreferrer" aria-label="Twitter ë°”ë¡œê°€ê¸°">
                        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M23.643 4.937c-.835.37-1.732.62-2.675.733a4.657 4.657 0 0 0 2.048-2.57 9.294 9.294 0 0 1-2.946 1.133 4.64 4.64 0 0 0-7.9 4.235 13.162 13.162 0 0 1-9.563-4.848 4.637 4.637 0 0 0 1.435 6.187 4.623 4.623 0 0 1-2.1-.58v.06a4.642 4.642 0 0 0 3.72 4.55 4.676 4.676 0 0 1-2.094.08 4.645 4.645 0 0 0 4.333 3.22A9.304 9.304 0 0 1 1.11 19.29a13.128 13.128 0 0 0 7.115 2.086c8.543 0 13.213-7.077 13.213-13.213 0-.2-.005-.402-.014-.602a9.34 9.34 0 0 0 2.319-2.384z"></path>
                        </svg>
                    </a>
                </div>
                <div class="bottom-credit">made by. @lohvoice (@gaesaryeo)</div>
            </div>
        </div>

    </div>
    

    <!-- Flaticon Attribution -->
    <a href="https://www.flaticon.com/kr/free-icons/" title="ì ‘ê·¼ì„± ì•„ì´ì½˜" style="display:none">ì ‘ê·¼ì„± ì•„ì´ì½˜ ì œì‘ì: Flaticon</a>

    <!-- Patch Notes Modal -->
    <div class="patch-modal-overlay" id="patchModal" aria-hidden="true">
        <div class="patch-modal" id="patchSheet" role="dialog" aria-modal="true" aria-labelledby="patchTitle">
            <div class="patch-header">
                <div class="patch-title" id="patchTitle">Patch Notes</div>
                <button class="patch-close" id="patchClose" aria-label="Close">
                    <svg class="icon" viewBox="0 0 24 24">
                        <line x1="6" y1="6" x2="18" y2="18" stroke="#cfe6f9" stroke-width="2" stroke-linecap="round"></line>
                        <line x1="18" y1="6" x2="6" y2="18" stroke="#cfe6f9" stroke-width="2" stroke-linecap="round"></line>
                    </svg>
                </button>
            </div>
            <div class="patch-content" id="patchContent"></div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyDX-MxKbl4rWE_ICXiEj-LkE71L_PXMtF8",
            authDomain: "receipt-counter-e69ab.firebaseapp.com",
            databaseURL: "https://receipt-counter-e69ab-default-rtdb.firebaseio.com",
            projectId: "receipt-counter-e69ab",
            storageBucket: "receipt-counter-e69ab.firebasestorage.app",
            messagingSenderId: "95724125160",
            appId: "1:95724125160:web:dd69aa000e3a9368dc025d"
        };
        if (typeof firebase === "object" && firebase && typeof firebase.initializeApp === "function") {
            if (!firebase.apps || !firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
            }
        }
    </script>

    <!-- Movies Modal Overlay -->
    <div id="moviesModal" class="movies-modal-overlay" aria-hidden="true" style="display:none;">
        <div class="movies-modal-container">
            <button id="moviesCloseBtn" class="movies-close-btn" aria-label="Close">
                <svg class="icon" viewBox="0 0 24 24">
                    <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
                    <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round"></line>
                </svg>
            </button>
            <iframe id="moviesFrame" class="movies-iframe" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
    </div>
    
    <style>
        .movies-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 9999;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: url('cursor/ì»¤ì„œ/ê°ë™ë€ë‹˜%20ê¸°ë³¸.ani'), url('cursor/ì›ë³¸%20íŒŒì¼/ê°ë™ë€ë‹˜%20ê¸°ë³¸.png'), auto;
        }
        .movies-modal-container {
            width: 100%;
            height: 100%;
            position: relative;
        }
        .movies-close-btn {
            position: absolute;
            top: 25px;
            right: 25px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            color: #fff;
            cursor: url('cursor/ì»¤ì„œ/ê°ë™ë€ë‹˜%20ì„ íƒ.ani'), url('cursor/ì›ë³¸%20íŒŒì¼/ê°ë™ë€ë‹˜%20ì„ íƒ.png'), pointer;
            z-index: 10001;
            padding: 8px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(2px);
        }
        .movies-close-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #fff;
            transform: scale(1.1);
        }
        .movies-close-btn svg {
            width: 18px;
            height: 18px;
            stroke-width: 2;
        }
        .movies-iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const moviesBtn = document.getElementById('moviesToggleBtn');
            const moviesModal = document.getElementById('moviesModal');
            const moviesCloseBtn = document.getElementById('moviesCloseBtn');
            const moviesFrame = document.getElementById('moviesFrame');
            
            if (moviesBtn && moviesModal && moviesCloseBtn) {
                // Open
                moviesBtn.addEventListener('click', () => {
                    moviesModal.style.display = 'flex';
                    moviesModal.setAttribute('aria-hidden', 'false');
                    document.body.style.overflow = 'hidden'; // Lock background scroll
                    
                    if (!moviesFrame.getAttribute('src')) {
                        moviesFrame.setAttribute('src', 'ì¶œê²©ì˜ìƒ/movies.html');
                    }
                });
                
                // Close
                moviesCloseBtn.addEventListener('click', () => {
                    moviesModal.style.display = 'none';
                    moviesModal.setAttribute('aria-hidden', 'true');
                    document.body.style.overflow = ''; // Unlock background scroll
                    
                    // Stop video/audio by clearing src
                    moviesFrame.setAttribute('src', '');
                });
            }
        });
    </script>

    <!-- Data & Scripts -->
    <script src="johan/johan.js"></script>
    <script src="johan/jp/jp-johan.js"></script>
    <script src="asset/sharlotte/sharlotte.js"></script>
    <script src="asset/mikhail/mikhail.js"></script>
    <script src="lucilica/lucilica.js"></script>
    <script src="rosanna/rosanna.js"></script>
    <script src="asset/joshua/joshua.js"></script>
    <script src="asset/syphfride/syphfride.js"></script>
    <script src="ondal/ondal.js"></script>
    <script src="asset/brandon/brandon.js"></script>
    <script src="asset/raligon/raligon.js"></script>
    <script src="asset/knight_helga/knight_helga.js"></script>
    <script src="asset/miriande/miriande.js"></script>
    <script src="asset/kartis/kartis.js"></script>
    <script src="visualizer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="app.js"></script>
</html>
